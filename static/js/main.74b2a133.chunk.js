(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{132:function(e,t,a){e.exports=a(170)},137:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),l=a.n(r),o=(a(137),a(32)),i=a(15),s=a(16),m=a(213),u=a(46),p=a.n(u),h=a(212),d=a(211),f=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("https://cors-anywhere.herokuapp.com/http://country.io/names.json").then((function(e){return e.json()})).then((function(e){console.log(e),r(Object.values(e))}))}),[]),c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"search-menu",expand:"lg"},c.a.createElement("a",{className:"navbar-brand",href:"/"},c.a.createElement(m.a,{width:"50px",src:p.a})),c.a.createElement("div",{style:{width:300}},c.a.createElement(h.a,{onChange:function(e){console.log(e.target.innerText),window.location.href="/Voyager/#/overview/".concat(e.target.innerText)},id:"countryInput",options:a,renderInput:function(e){return c.a.createElement(d.a,Object.assign({},e,{label:"Choose country",margin:"normal"}))}}))))},E=a(81),g=a.n(E),b=a(82),j=a.n(b),v=a(83),y=a.n(v),O=a(84),x=a.n(O),w=a(85),k=a.n(w),I=[{id:"1",title:"Belgium",img:g.a},{id:"2",title:"Brazil",img:j.a},{id:"3",title:"Ukraine",img:y.a},{id:"4",title:"France",img:x.a},{id:"5",title:"Japan",img:k.a}],N=a(18),C=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.h,{id:"carousel-container"},c.a.createElement(N.c,{interval:5e3,activeItem:1,length:5,showControls:!0,showIndicators:!1,onHoverStop:!1,className:"z-depth-1"},c.a.createElement(N.e,null,I.map((function(e,t){return c.a.createElement(N.f,{itemId:e.id,key:t},c.a.createElement(N.t,null,c.a.createElement("img",{className:"d-block w-100 img-responsive",src:e.img,alt:e.title})),c.a.createElement(N.d,null,c.a.createElement("h1",{className:"h1-responsive"},e.title),c.a.createElement("a",{type:"button",href:"/Voyager/#/overview/".concat(e.title)},"discover")))}))))))},S=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(f,null),c.a.createElement(C,null))},A=function(e){var t=e.country,a=Object(n.useState)(!1),r=Object(s.a)(a,2),l=r[0],o=r[1];return c.a.createElement(n.Fragment,null,c.a.createElement(N.m,{color:"unique-color",dark:!0,expand:"md"},c.a.createElement(N.n,{href:"/"},c.a.createElement(m.a,{width:"50px",src:p.a})),c.a.createElement(N.p,{onClick:function(){o(!l)}}),c.a.createElement(N.g,{id:"navbarCollapse3",isOpen:l,navbar:!0},c.a.createElement(N.o,{left:!0},c.a.createElement(N.k,null,c.a.createElement("div",{style:{width:300},className:"autocomplete"},c.a.createElement("h2",{style:{color:"white"}},t.charAt(0).toUpperCase()+t.slice(1))))),c.a.createElement(N.o,{right:!0},c.a.createElement(N.k,null,c.a.createElement(N.l,{className:"mr-4",to:"/"},"Home"))))))},F=a(122),z=a(121);var B=Object(z.a)((function(e){var t=e.setCity,a=e.capital,r=e.country,l=e.code,o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],u=i[1],p=Object(n.useState)([]),h=Object(s.a)(p,2),d=h[0],f=h[1],E=Object(n.useState)([]),g=Object(s.a)(E,2),b=g[0],j=g[1],v=c.a.createRef(),y=r.charAt(0).toUpperCase()+r.slice(1),O=function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&v.current.scrollIntoView({behavior:"smooth",block:"start"})};Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/russ666/all-countries-and-cities-json/master/countries.json").then((function(e){return e.json()})).then((function(e){var t=function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}(e[y]);f(t),j(t)}))}),[l]),Object(n.useLayoutEffect)((function(){t(a),u(a)}),[a]);return c.a.createElement("div",{style:{padding:"20px 0",textAlign:"center"}},c.a.createElement("input",{style:{border:"3px solid rgb(0 130 156)",borderRadius:"5px"},placeholder:"Search city",onInput:function(e){var t;t=e.target.value?b.filter((function(t){return t.toUpperCase().includes(e.target.value.toUpperCase())})):b,f(t)}}),c.a.createElement("div",{className:"timeline"},c.a.createElement("ul",null,[a].concat(Object(F.a)(d)).map((function(e,a){return c.a.createElement("li",{key:a,ref:v,onScroll:O},c.a.createElement("a",{key:a,style:{fontSize:m===e?"20px":"16px",fontWeight:m===e?"bold":"normal",":hover":{fontSize:"20px"}},onClick:function(){t(e),u(e)}},e))})))))})),H=function(e){var t=e.data;return c.a.createElement("nav",{className:"topbar"},c.a.createElement("ul",null,c.a.createElement("li",null,t.subregion,c.a.createElement("small",{className:"text-muted"},"Region")),c.a.createElement("li",null,c.a.createElement("img",{src:t.flag,width:"40",height:"30",alt:" ",style:{border:"1px solid black"}}),c.a.createElement("small",{className:"text-muted"},"Flag")),c.a.createElement("li",null,(t.population/1e6).toFixed(1),c.a.createElement("small",{className:"text-muted"},"Population, million")),c.a.createElement("li",null,t.capital,c.a.createElement("small",{className:"text-muted"},"Capital")),c.a.createElement("li",null,c.a.createElement("p",null,t.currencies&&t.currencies[0].name," (",t.currencies&&t.currencies[0].symbol,")",c.a.createElement("small",{className:"text-muted"},"Local currency")))))},V=a(119),U="AIzaSyAmfOCVm6HhTEIe3uECxZIKoVD9BoIDA34",_=function(e){var t=e.city,a=e.setPlaceId,r=e.center,l=e.setCenter,o=Object(n.useState)(2),i=Object(s.a)(o,2),m=i[0],u=i[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),d=h[0],f=h[1];return Object(n.useEffect)((function(){t&&(f(!0),fetch("".concat("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/textsearch","/json?query=").concat(t,"&language=en&key=").concat(U)).then((function(e){return e.json()})).then((function(e){e&&e.results[0]&&l(e.results[0].geometry.location),console.log(e),u(12),e.results[0]&&a(e.results[0].place_id),f(!1)})))}),[t]),c.a.createElement("div",{className:"map"},d?c.a.createElement("div",{style:{padding:"100px 0",textAlign:"center"}},c.a.createElement("iframe",{src:"https://giphy.com/embed/3oEjI6SIIHBdRxXI40",width:"180",height:"180",frameBorder:"0",className:"giphy-embed"})):c.a.createElement(V.a,{bootstrapURLKeys:{key:U},center:r,defaultZoom:2,zoom:m,heignt:"400",width:"600"}))},P="AIzaSyAmfOCVm6HhTEIe3uECxZIKoVD9BoIDA34",R=function(e){var t=e.placeId,a=e.center,r=Object(n.useState)([]),l=Object(s.a)(r,2),o=l[0],i=l[1],m=Object(n.useState)(null),u=Object(s.a)(m,2),p=u[0],h=u[1];return Object(n.useEffect)((function(){console.log(a),t&&(fetch("".concat("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/details","/json?key=").concat(P,"&place_id=").concat(t,"&fields=photos")).then((function(e){return e.json()})).then((function(e){return i(e.result.photos)})),fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.lat,"&lon=").concat(a.lng,"&appid=98cb06cb2b40f453cd89033992ff765a&units=metric")).then((function(e){return e.json()})).then((function(e){h(e)})))}),[t]),c.a.createElement("div",{className:"weather"},c.a.createElement("div",{className:"photos"},c.a.createElement("p",null,"Photos of the city"),o?c.a.createElement("div",null,o.slice(0,9).map((function(e,t){return c.a.createElement("img",{key:t,src:"".concat("https://maps.googleapis.com/maps/api/place/photo","?&key=").concat(P,"&photoreference=").concat(e.photo_reference,"&maxheight=100&maxwidth=100")})}))):c.a.createElement("img",{style:{height:"300px",width:"300px"},src:"https://vcunited.club/wp-content/uploads/2020/01/No-image-available-2.jpg"})),c.a.createElement("div",{className:"forecast"},c.a.createElement("p",null,"Weather"),p?c.a.createElement("div",{className:"forecast-grid"},c.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(p.weather[0].icon,".png")}),c.a.createElement("p",null,Math.floor(p.main.temp),"\xb0C\u2002"),c.a.createElement("small",{className:"text-muted"},p.weather[0].description," ")):null))},T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),o=Object(s.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)({}),h=Object(s.a)(p,2),d=h[0],f=h[1],E=Object(i.f)().country,g=Object(n.useState)({}),b=Object(s.a)(g,2),j=b[0],v=b[1],y=Object(n.useState)(""),O=Object(s.a)(y,2),x=O[0],w=O[1];return Object(n.useEffect)((function(){E&&fetch("https://restcountries.eu/rest/v2/name/".concat(E)).then((function(e){return e.json()})).then((function(e){v(e[0]),w(e[0].alpha2Code),console.log(e),console.log(e[0].alpha2Code)}))}),[E]),c.a.createElement(n.Fragment,null,c.a.createElement(A,{country:E}),c.a.createElement("div",{className:"discover-wrapper"},c.a.createElement(H,{data:j}),c.a.createElement(B,{setCity:r,capital:j.capital,country:E,code:x}),c.a.createElement(_,{city:a,setPlaceId:u,center:d,setCenter:f}),c.a.createElement(R,{placeId:m,center:d})))};var D=function(){return c.a.createElement(o.a,null,c.a.createElement("div",{className:"main-container"},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/"},c.a.createElement(S,null)," "),c.a.createElement(i.a,{path:"/overview/:country"},c.a.createElement(T,null)," "))))};a(166),a(167),a(168),a(169);l.a.render(c.a.createElement(D,null),document.getElementById("root"))},46:function(e,t,a){e.exports=a.p+"static/media/globe_PNG62.79f9e07e.png"},81:function(e,t,a){e.exports=a.p+"static/media/brussels-1920.935e4756.jpg"},82:function(e,t,a){e.exports=a.p+"static/media/Brazil.4987e8ac.jpg"},83:function(e,t,a){e.exports=a.p+"static/media/ukraine-kyiv_1920.b9c55795.jpg"},84:function(e,t,a){e.exports=a.p+"static/media/France.96d56c45.jpg"},85:function(e,t,a){e.exports=a.p+"static/media/Japan_1920.8fdbb3a7.jpg"}},[[132,1,2]]]);
//# sourceMappingURL=main.74b2a133.chunk.js.map